<!doctype html><html lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>【翻訳】We should optimize images - EagleLand</title><link rel=icon href=/favicon.png><link rel="shortcut icon" href=/favicon.png><link rel="shortcut icon" href=/favicon.svg type=image/svg+xml sizes=any><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.2/build/styles/dracula.min.css><link rel=stylesheet href=/css/font.css><link rel=stylesheet href=/css/settings.css><link rel=stylesheet href=/css/tools.css><link rel=stylesheet href=/css/generic.css><link rel=stylesheet href=/css/base.css><link rel=stylesheet href=/css/objects.css><link rel=stylesheet href=/css/components.css><link rel=stylesheet href=/css/trumps.css><link rel=alternate href=/rss.xml title=1000ch.net type=application/rss+xml><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto+Mono"><meta name=author content="Shogo Sensui"><meta name=copyright content="Copyright (c) Shogo Sensui; Licensed under Creative Commons Attribution-Noncommercial-Share Japan"><meta property="og:description" content="【翻訳】We should optimize images ※この記事はMediumに投稿したWe should optimize imagesの日本語訳です。
Steve SoudersはHigh Performance Web Siteで、次のように述べています。
 エンドユーザーへのレスポンスに費やされる時間の80-90%はフロントエンド において発生している。まずはフロントエンドを最適化することだ。
 Webサイトのパフォーマンスの多くはフロントエンドに起因するものです。つまりWebサイトを速くするためには、フロントエンドを最適化しなければなりません。例えば、最適化には次のような要因があります。
 ラウンドトリップタイムを最小化する リクエストのオーバーヘッドを最小化する ペイロードサイズを最小化する ブラウザのレンダリング処理を最適化する その他いろいろ…  中でもペイロードサイズの最小化は、最も実施しやすいものの1つです。ペイロードサイズの最小化には、HTML、CSS、そして画像のファイルサイズを削減します。中でも特に、画像データはネットワーク帯域の多くを占めます。そこで、画像を最適化するためのツールをいくつか紹介したいと思います。
  ImageOptim - 様々な最適化ライブラリ（PNGOUT・Zopfli・PNGCrush・AdvPNG・拡張したOptiPNG・JPEGOptim・JPEGReScan・JPEGTran・GifSicle）を内包し、PNG・JPEG・GIFを最適化するMacのアプリケーション ImageAlpha - 24bitのPNGを8bitにダウンコンバートしファイルサイズを大きく削減するMacのアプリケーション JPEGmini - JPEGを少ない劣化で減色しファイルサイズを削減するMacのアプリケーション RIOT - PNG・JPEG・GIFを最適化するWindowsのアプリケーション pngoo - PNGを圧縮するWindowsのアプリケーション WebPonize - PNG・JPEGをWebPフォーマットに変換するMacのアプリケーション  これらはGUIアプリケーションなので、簡単に利用することができます。ここにPNGを圧縮したサンプルがあります。
これは圧縮されていないオリジナルの画像です。24bitのPNGで、位置情報・日付・時刻といった様々なメタ情報が含まれています。
これはImageAlphaで8bitにダウンコンバートし、ImageOptimでメタ情報を削除するなどして最適化したPNGです。ほぼ劣化していないように見えます。
こちらはJPEGのサンプルです。メタ情報はImageOptimで削除済ですが、劣化を伴う減色処理はされていません。
更にJPEGminiによって減色処理を施しています。劣化は目立ちませんが、ファイルサイズはオリジナルのおよそ34%程（66%も削減されています！）になっています。写真のような画像は非常に多くの色があるため、減色処理を行った後によく確認しなくてはならないでしょう。これは面倒な作業ですが、より良いことです。
 私はコマンドラインのツールも欲しかったので、GruntとGulp用のモジュールを作りました。
 grunt-image - GUIでの操作なく画像を最適化するGruntのモジュール gulp-image - grunt-imageのGulpバージョン  これらを使ってPNG・JPEG・GIF・SVGを最適化することができます。インストール？もしGruntやGulpを使ったことがあればとても簡単です（きっと一度は使ったことがあるでしょう☺）。
# download them using npm $ npm install —-save-dev grunt-image $ npm install —-save-dev gulp-image 詳細な設定はGitHubのプロジェクトリポジトリを参照してください。"><meta property="og:image" content="https://1000ch.net/img/apple-touch-icon.png"><meta name=twitter:card content="summary"><meta property="og:type" content="article"><meta property="og:url" content="https://1000ch.net/posts/2015/we-should-optimize-images.html"><meta property="og:site_name" content="EagleLand"><meta property="og:title" content="【翻訳】We should optimize images"><meta name=twitter:site content="@1000ch"><meta name=twitter:url content="https://1000ch.net/posts/2015/we-should-optimize-images.html"><meta name=twitter:title content="【翻訳】We should optimize images"><meta name=google-site-verification content="BWewniqiBzRmrhpj51eLwug-F4hamFfyznl-ARb-Y4Y"><link rel=apple-touch-icon-precomposed sizes=144x144 href=/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed sizes=114x114 href=/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed sizes=72x72 href=/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed href=/img/apple-touch-icon.png><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-49530352-1','1000ch.net');ga('send','pageview');</script></head><body><div class=Container><header class=Header><h1 class=Header__Title><a href=/>EagleLand</a></h1><nav class=Header__Menu><div class=Header__MenuItem><img src=/img/rss.svg alt>
<a href=/rss.xml>RSS</a></div><div class=Header__MenuItem><img src=/img/heart.svg alt>
<a href=https://shogosensui.com>Activity</a></div><div class=Header__MenuItem><img src=/img/facebook.svg alt>
<a href=https://www.facebook.com/1000ch.net>Facebook</a></div></nav></header><main class=Main><span class="Label Label--gray pull-left">2015.05.25</span><h1 id=翻訳we-should-optimize-images>【翻訳】We should optimize images</h1><p><strong>※この記事はMediumに投稿した<a href=http://bit.ly/we-should-optimize-images>We should optimize images</a>の日本語訳です。</strong></p><p><a href=http://www.stevesouders.com/>Steve Souders</a>は<a href=http://stevesouders.com/hpws/>High Performance Web Site</a>で、次のように述べています。</p><blockquote><p>エンドユーザーへのレスポンスに費やされる時間の80-90%はフロントエンド において発生している。まずはフロントエンドを最適化することだ。</p></blockquote><p>Webサイトのパフォーマンスの多くはフロントエンドに起因するものです。つまりWebサイトを速くするためには、フロントエンドを最適化しなければなりません。例えば、最適化には次のような要因があります。</p><ul><li><a href=https://developers.google.com/speed/docs/insights/mobile>ラウンドトリップタイムを最小化する</a></li><li><a href=https://developers.google.com/speed/docs/insights/EnableCompression>リクエストのオーバーヘッドを最小化する</a></li><li><a href=https://developers.google.com/speed/docs/insights/PrioritizeVisibleContent>ペイロードサイズを最小化する</a></li><li><a href=https://developers.google.com/speed/docs/insights/PrioritizeVisibleContent>ブラウザのレンダリング処理を最適化する</a></li><li>その他いろいろ…</li></ul><p>中でもペイロードサイズの最小化は、最も実施しやすいものの1つです。ペイロードサイズの最小化には、HTML、CSS、そして画像のファイルサイズを削減します。中でも特に、画像データはネットワーク帯域の多くを占めます。そこで、画像を最適化するためのツールをいくつか紹介したいと思います。</p><hr><ul><li><a href=http://imageoptim.com/>ImageOptim</a> - 様々な最適化ライブラリ（PNGOUT・Zopfli・PNGCrush・AdvPNG・拡張したOptiPNG・JPEGOptim・JPEGReScan・JPEGTran・GifSicle）を内包し、PNG・JPEG・GIFを最適化するMacのアプリケーション</li><li><a href=http://pngmini.com/>ImageAlpha</a> - 24bitのPNGを8bitにダウンコンバートしファイルサイズを大きく削減するMacのアプリケーション</li><li><a href=http://www.jpegmini.com/>JPEGmini</a> - JPEGを少ない劣化で減色しファイルサイズを削減するMacのアプリケーション</li><li><a href=http://luci.criosweb.ro/riot/>RIOT</a> - PNG・JPEG・GIFを最適化するWindowsのアプリケーション</li><li><a href=https://code.google.com/p/pngoo/>pngoo</a> - PNGを圧縮するWindowsのアプリケーション</li><li><a href=https://webponize.github.io>WebPonize</a> - PNG・JPEGをWebPフォーマットに変換するMacのアプリケーション</li></ul><p>これらはGUIアプリケーションなので、簡単に利用することができます。ここにPNGを圧縮したサンプルがあります。</p><p><img src=/img/posts/2015/we-should-optimize-images/uncompressed.png alt=未圧縮のPNG画像（71,834bytes）></p><p>これは圧縮されていないオリジナルの画像です。24bitのPNGで、位置情報・日付・時刻といった様々なメタ情報が含まれています。</p><p><img src=/img/posts/2015/we-should-optimize-images/compressed.png alt="ImageAlphaとImageOptimで圧縮したPNG画像 (28,369 bytes)"></p><p>これはImageAlphaで8bitにダウンコンバートし、ImageOptimでメタ情報を削除するなどして最適化したPNGです。ほぼ劣化していないように見えます。</p><p><img src=/img/posts/2015/we-should-optimize-images/uncompressed.jpg alt="ImageOptimでメタ情報を削除したが劣化を伴う処理はされていないJPEG画像（213,171 bytes）"></p><p>こちらはJPEGのサンプルです。メタ情報はImageOptimで削除済ですが、劣化を伴う減色処理はされていません。</p><p><img src=/img/posts/2015/we-should-optimize-images/compressed.jpg alt="JPEGminiで非可逆の減色処理をされたJPEG画像（71,874 bytes）"></p><p>更にJPEGminiによって減色処理を施しています。劣化は目立ちませんが、ファイルサイズはオリジナルのおよそ34%程（66%も削減されています！）になっています。写真のような画像は非常に多くの色があるため、減色処理を行った後によく確認しなくてはならないでしょう。これは面倒な作業ですが、より良いことです。</p><hr><p>私はコマンドラインのツールも欲しかったので、GruntとGulp用のモジュールを作りました。</p><ul><li><a href=https://github.com/1000ch/grunt-image>grunt-image</a> - GUIでの操作なく画像を最適化するGruntのモジュール</li><li><a href=https://github.com/1000ch/gulp-image>gulp-image</a> - grunt-imageのGulpバージョン</li></ul><p>これらを使ってPNG・JPEG・GIF・SVGを最適化することができます。インストール？もしGruntやGulpを使ったことがあればとても簡単です（きっと一度は使ったことがあるでしょう☺）。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># download them using npm</span>
$ npm install —-save-dev grunt-image
$ npm install —-save-dev gulp-image
</code></pre></div><p>詳細な設定はGitHubのプロジェクトリポジトリを参照してください。</p><hr><p>WebPも素晴らしいです。WebPはGoogleが開発する新しい画像フォーマットで、公式サイトで次にようにあります。</p><blockquote><p>可逆圧縮のWebPはPNGと比較して、ファイルサイズが<a href=https://developers.google.com/speed/webp/docs/webp_lossless_alpha_study#results>26%小さくなります</a>。非可逆圧縮のWebPは同等画質のJPEGと比較して、ファイルサイズが<a href=https://developers.google.com/speed/webp/docs/webp_study>25%-34%小さくなります</a>。</p></blockquote><p>WebPは、Chromeやその他のChrome Frameをバンドルしているブラウザがサポートしています。FirefoxとSafariはWebPをサポートしていません。しかし興味深いことに、SafariのWebKitを利用しているはずのiOSのChromeはWebPを表示することが可能です（おそらくChrome Frameを内包しているものと思われます）。</p><p>WebPは<a href=https://developers.google.com/speed/webp/>公式サイト</a>から利用することができます。WebPに変換した画像をお見せしたいところですが、悲しいことにMediumではまだ使えないようです☹しかし、私が試した結果では、変換する前のPNGは <strong>28,369 bytes</strong> でしたが、WebPに変換したところ <strong>17,382 bytes</strong> になり劣化はありませんでした！</p><hr><p>もし今まで画像の最適化について無関心だったのであれば、より良いWebパフォーマンスのために最適化を実施してください。最後に、画像についてもっと知るために参考になる記事を紹介します。</p><ul><li><a href=http://www.phpied.com/give-png-a-chance/>Give PNG a chance</a> — by <a href=http://www.phpied.com/bio/>Stoyan Stefanov</a> / <a href=http://article.enja.io/articles/give-png-a-chance.html>日本語訳</a></li><li><a href=http://calendar.perfplanet.com/2013/mobile-isp-image-recompression/>Mobile ISP image recompression</a> — by <a href=http://pornel.net/>Kornel Lesiński</a></li><li><a href=http://www.sitepoint.com/png8-the-clear-winner/>PNG8 — The Clear Winner</a> — by <a href=http://www.sitepoint.com/author/alex-walker/>Alex Walker</a></li><li><a href=http://calendar.perfplanet.com/2010/png-that-works/>PNG that works</a> — by <a href=http://pornel.net/>Kornel Lesiński</a></li><li><a href=http://www.html5rocks.com/en/tutorials/speed/img-compression/>Image Compression for Web Developers</a> — by <a href=http://www.html5rocks.com/en/profiles/#coltmcanlis>Colt McAnlis</a></li></ul><p>最後まで読んでくれて、どうもありがとうございます。</p><iframe src="https://rcm-fe.amazon-adsystem.com/e/cm?t=1000ch-22&o=9&p=8&l=as1&asins=487311361X&ref=qf_sp_asin_til&fc1=000000&IS2=1&lt1=_blank&m=amazon&lc1=0000FF&bc1=000000&bg1=FFFFFF&f=ifr" style=width:120px;height:240px scrolling=no marginwidth=0 marginheight=0 frameborder=0></iframe>
<iframe src="https://rcm-fe.amazon-adsystem.com/e/cm?t=1000ch-22&o=9&p=8&l=as1&asins=4873114462&ref=qf_sp_asin_til&fc1=000000&IS2=1&lt1=_blank&m=amazon&lc1=0000FF&bc1=000000&bg1=FFFFFF&f=ifr" style=width:120px;height:240px scrolling=no marginwidth=0 marginheight=0 frameborder=0></iframe>
<iframe src="https://rcm-fe.amazon-adsystem.com/e/cm?t=1000ch-22&o=9&p=8&l=as1&asins=4873116767&ref=qf_sp_asin_til&fc1=000000&IS2=1&lt1=_blank&m=amazon&lc1=0000FF&bc1=000000&bg1=FFFFFF&f=ifr" style=width:120px;height:240px scrolling=no marginwidth=0 marginheight=0 frameborder=0></iframe><aside class=Share><div class=Share__Item><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2f1000ch.net%2fposts%2f2015%2fwe-should-optimize-images.html" title="Share on Facebook" target=_blank><img src=/img/facebook.svg></a></div><div class=Share__Item><a href="https://twitter.com/share?url=https%3a%2f%2f1000ch.net%2fposts%2f2015%2fwe-should-optimize-images.html&text=%e3%80%90%e7%bf%bb%e8%a8%b3%e3%80%91We%20should%20optimize%20images" title="Share on Twitter" target=_blank><img src=/img/twitter.svg></a></div></aside><nav class=Pager><div class="Pager__Item Pager__Item--left"><a href=/posts/2015/introduction-to-webp.html>👈 【翻訳】Introduction to WebP</a></div><div class="Pager__Item Pager__Item--right"><a href=/posts/2015/wdpress-frontend-series-network.html>WEB+DB PRESS Vol.87 Webフロントエンド最前線「ユーザを待たせない高速なWebサイト」 👉</a></div></nav></main><aside class=Aside><h1>Author</h1><div class=Media><picture>
<source srcset=/img/1000ch.webp type=image/webp><img class=Media__Figure src=/img/1000ch.jpg alt></picture><div class=Media__Body><h3 class=Media__Title>1000ch <a href=https://twitter.com/1000ch class=twitter-follow-button data-show-count=false data-show-screen-name=false>Follow @1000ch</a></h3><p>ソフトウェアエンジニア。SIer でのプログラマーを経て Web 業界に転職して以来、Web 技術に没頭する日々を送っている。Web 標準の動向やアーキテクチャの流行を追いかけつつ、技術啓蒙や OSS 活動に励んでいる。</p></div></div></aside><footer class=Footer><div class=Banner><div class=Banner__Item><a href=https://creativecommons.org/licenses/by-nc-nd/4.0/deed.ja target=_blank><img src=/img/by-nc-nd.png alt="CC BY-NC-ND 4.0" width=80 height=28></a></div><div class=Banner__Item><form action=https://duckduckgo.com/ role=search><input name=sites type=hidden value=1000ch.net>
<input name=q type=search>
<input type=submit value=Search></form></div></div></footer></div><script defer src=https://platform.twitter.com/widgets.js></script><script defer src=https://platform.instagram.com/en_US/embeds.js></script><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.2/build/highlight.min.js></script><script type=module>
import AffiliateLink from '/js/affiliate-link.js';
import FluidIframe from 'https://cdn.jsdelivr.net/npm/fluid-iframe/dist/index.js';

customElements.define('affiliate-link', AffiliateLink);
customElements.define('fluid-iframe', FluidIframe);

document.querySelectorAll('pre code').forEach(block => {
  hljs.highlightBlock(block);
});

if (navigator.serviceWorker) {
  navigator.serviceWorker.register('/sw.js');
}
</script></body></html>