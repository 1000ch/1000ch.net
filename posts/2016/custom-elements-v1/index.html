<!doctype html><html lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Custom Elements v1 - EagleLand</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel="shortcut icon" href=/favicon.png><link rel="shortcut icon" href=/favicon.svg type=image/svg+xml sizes=any><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/a11y-dark.min.css><link rel=stylesheet href=/css/settings.css><link rel=stylesheet href=/css/base.css><link rel=stylesheet href=/css/layout.css><link rel=stylesheet href=/css/components.css><link rel=stylesheet href=/css/experimental.css><link rel=alternate href=/rss.xml title=1000ch.net type=application/rss+xml><meta name=author content="Shogo Sensui"><meta name=copyright content="Copyright (c) Shogo Sensui; Licensed under Creative Commons Attribution-Noncommercial-Share Japan"><meta property="og:description" content="Custom Elements v1 ãŒ Chrome ã® 54 ã‹ã‚‰ã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸã€‚
ã“ã‚Œã¾ã§ã® document.registerElement('custom-element') ã«ã‚ˆã‚‹ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã®å®šç¾©ã¯ v0 ã«ã‚ãŸã‚Šã€ v1 ã¯æ§˜ã€…ãªè¦‹ç›´ã—ãŒãªã•ã‚ŒãŸ Custom Elements ã®æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚ã‚‹ã€‚
å®šç¾©æ–¹æ³•ã®å¤‰æ›´ v0 document ã«ã¶ã‚‰ä¸‹ãŒã‚‹ registerElement() ã§è¦ç´ ã‚’å®šç¾©ã—ã¦ããŸã€‚ registerElement() ã¯å®šç¾©ã•ã‚ŒãŸã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’è¿”ã™ã€‚
// ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã®å®šç¾© const FooElement = document.registerElement('foo-element', { prototype: FooElementPrototype }); // <button is=&#34;bar-button&#34;></button> const BarButton = document.registerElement('bar-button', { prototype: FooElementPrototype, extends: 'button' }); v1 window ã« customElements ã¨ã„ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¿½åŠ ã•ã‚Œã‚‹ã€‚ customElements ã¯ CustomElementRegistory ã¨ã„ã† IDL ã§ã‚ã‚‹ã€‚
ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã«é–¢ã™ã‚‹æ“ä½œã¯ã“ã® customElements ã‚’é€šã—ã¦è¡Œã‚ã‚Œã€customElements.define('element-name') ã§ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã‚’å®šç¾©ã—ã€ customElements.get('element-name') ã§ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã‚’å‚ç…§ã—ã€ customElements.whenDefined('element-name') ã§ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ãŒå®šç¾©ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’å–å¾—ã™ã‚‹ã€‚ whenDefined() ã®è¿”ã‚Šå€¤ã¯ Promise ã§ã‚ã‚‹ã€‚"><meta property="og:image" content="https://1000ch.net//img/apple-touch-icon.png"><meta name=twitter:card content="summary"><meta property="og:type" content="article"><meta property="og:url" content="https://1000ch.net/posts/2016/custom-elements-v1/"><meta property="og:site_name" content="EagleLand"><meta property="og:title" content="Custom Elements v1"><meta name=twitter:site content="@1000ch"><meta name=twitter:url content="https://1000ch.net/posts/2016/custom-elements-v1/"><meta name=twitter:title content="Custom Elements v1"><meta name=google-site-verification content="BWewniqiBzRmrhpj51eLwug-F4hamFfyznl-ARb-Y4Y"><link rel=apple-touch-icon-precomposed sizes=144x144 href=/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed sizes=114x114 href=/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed sizes=72x72 href=/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed href=/img/apple-touch-icon.png><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-49530352-1","1000ch.net"),ga("send","pageview")</script></head><body><div class=container><header class=header><h1 class=header-title><a href=/><img src=/img/icon.svg>
<span>EagleLand</span></a></h1><nav><a href=/rss.xml>ğŸ“» RSS</a>
<a href="https://www.google.co.jp/search?q=site%3A1000ch.net">ğŸ” æ¤œç´¢</a>
<a href=https://shogosensui.com>ğŸŒ Author</a></nav></header><main class=main><h1>Custom Elements v1</h1><p style=margin:0;text-align:right>Published at 2016-09-16</p><p>Custom Elements v1 ãŒ <a href=https://www.chromestatus.com/features/4696261944934400>Chrome ã® 54 ã‹ã‚‰ã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸ</a>ã€‚</p><p>ã“ã‚Œã¾ã§ã® <code>document.registerElement('custom-element')</code> ã«ã‚ˆã‚‹ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã®å®šç¾©ã¯ v0 ã«ã‚ãŸã‚Šã€ v1 ã¯æ§˜ã€…ãªè¦‹ç›´ã—ãŒãªã•ã‚ŒãŸ Custom Elements ã®æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚ã‚‹ã€‚</p><h2 id=å®šç¾©æ–¹æ³•ã®å¤‰æ›´>å®šç¾©æ–¹æ³•ã®å¤‰æ›´</h2><h3 id=v0>v0</h3><p><code>document</code> ã«ã¶ã‚‰ä¸‹ãŒã‚‹ <code>registerElement()</code> ã§è¦ç´ ã‚’å®šç¾©ã—ã¦ããŸã€‚ <code>registerElement()</code> ã¯å®šç¾©ã•ã‚ŒãŸã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’è¿”ã™ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã®å®šç¾©
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>FooElement</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>registerElement</span>(<span style=color:#e6db74>&#39;foo-element&#39;</span>, {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>prototype</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>FooElementPrototype</span>
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// &lt;button is=&#34;bar-button&#34;&gt;&lt;/button&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>BarButton</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>registerElement</span>(<span style=color:#e6db74>&#39;bar-button&#39;</span>, {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>prototype</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>FooElementPrototype</span>,
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>extends</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;button&#39;</span>
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><h3 id=v1>v1</h3><p><code>window</code> ã« <code>customElements</code> ã¨ã„ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¿½åŠ ã•ã‚Œã‚‹ã€‚ <code>customElements</code> ã¯ <a href=https://www.w3.org/TR/custom-elements/#dom-customelementregistry><code>CustomElementRegistory</code></a> ã¨ã„ã† IDL ã§ã‚ã‚‹ã€‚</p><p>ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã«é–¢ã™ã‚‹æ“ä½œã¯ã“ã® <code>customElements</code> ã‚’é€šã—ã¦è¡Œã‚ã‚Œã€<code>customElements.define('element-name')</code> ã§ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã‚’å®šç¾©ã—ã€ <code>customElements.get('element-name')</code> ã§ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã‚’å‚ç…§ã—ã€ <code>customElements.whenDefined('element-name')</code> ã§ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ãŒå®šç¾©ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’å–å¾—ã™ã‚‹ã€‚ <code>whenDefined()</code> ã®è¿”ã‚Šå€¤ã¯ <code>Promise</code> ã§ã‚ã‚‹ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã®å®šç¾©
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>customElements</span>.<span style=color:#a6e22e>define</span>(<span style=color:#e6db74>&#39;foo-element&#39;</span>, <span style=color:#a6e22e>FooElement</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// &lt;button is=&#34;bar-button&#34;&gt;&lt;/button&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>customElements</span>.<span style=color:#a6e22e>define</span>(<span style=color:#e6db74>&#39;bar-button&#39;</span>, <span style=color:#a6e22e>BarButton</span>, {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>extends</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;button&#39;</span>
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å‚ç…§
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>FooElement</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>customElements</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;foo-element&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// è¦ç´ ãŒå®šç¾©ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®å–å¾—
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>customElements</span>.<span style=color:#a6e22e>whenDefined</span>(<span style=color:#e6db74>&#39;baz-element&#39;</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>then</span>(() =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;baz-element is defined&#39;</span>));
</span></span></code></pre></div><p><code>&lt;button is="app-button">&lt;/button></code> ã®ã‚ˆã†ã«ã€ãƒã‚¤ãƒ†ã‚£ãƒ–ã®HTMLè¦ç´ ã®æ‹¡å¼µã¨ã—ã¦æ©Ÿèƒ½ã•ã›ã‚‹ã“ã¨ã‚‚ã€å¾“æ¥ã®ã‚ˆã†ã«å¯èƒ½ã€‚ <code>customElements.define()</code> ã®ç¬¬ä¸‰å¼•æ•°ã« <code>{ extends: 'button' }</code> ã®ã‚ˆã†ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ¸¡ã™ã€‚</p><p>ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã®åå‰ã«ã¯ãƒã‚¤ãƒ•ãƒ³ã‚’å«ã‚€å¿…è¦ãŒã‚ã‚‹ã¨ã‹ã€åŒã˜åå‰ã®ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã‚’å†å®šç¾©ã¯ã§ããªã„ã¨ã„ã£ãŸåŸºæœ¬çš„ãªãƒ«ãƒ¼ãƒ«ã¯ v0 ã‹ã‚‰å¤‰åŒ–ãªã—ã€‚</p><h2 id=ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®å¤‰æ›´>ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®å¤‰æ›´</h2><h3 id=v0-1>v0</h3><ol><li><code>createdCallback()</code>: è¦ç´ ãŒç”Ÿæˆã•ã‚ŒãŸæ™‚</li><li><code>attachedCallback()</code>: è¦ç´ ãŒHTMLã«è¿½åŠ ã•ã‚ŒãŸæ™‚</li><li><code>detachedCallback()</code>: HTMLã‹ã‚‰è¦ç´ ãŒé™¤ã‹ã‚ŒãŸæ™‚</li><li><code>attributeChangedCallback()</code>: è¦ç´ ã®å±æ€§ãŒå¤‰æ›´ã•ã‚ŒãŸæ™‚</li></ol><h3 id=v1-1>v1</h3><ol><li><code>constructor()</code>: è¦ç´ ãŒç”Ÿæˆã¾ãŸã¯æ›´æ–°ã•ã‚ŒãŸæ™‚</li><li><code>connectedCallback()</code>: è¦ç´ ãŒHTMLã«è¿½åŠ ã•ã‚ŒãŸæ™‚</li><li><code>disconnectedCallback()</code>: HTMLã‹ã‚‰è¦ç´ ãŒé™¤ã‹ã‚ŒãŸæ™‚</li><li><code>attributeChangedCallback()</code>: è¦ç´ ã®å±æ€§ãŒå¤‰æ›´ã•ã‚ŒãŸæ™‚</li><li><code>adoptedCallback()</code>: è¦ç´ ãŒæ–°ãŸãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ç§»å‹•ã—ãŸæ™‚</li></ol><p><code>adoptedCallback()</code> ã¯ <strong>è¦ç´ ãŒæ–°ãŸãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ç§»å‹•ã—ãŸæ™‚</strong> ã¨ã‚ã‚‹ãŒã€ <code>document.adoptNode()</code> ãªã©ã‚’é€šã—ã¦å…ƒã®ãƒ„ãƒªãƒ¼ã‹ã‚‰å‰Šé™¤ã—ã€å®Ÿè¡Œè€…ã® <code>document</code> ã«è¿½åŠ ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã€ã¤ã¾ã‚Š <code>ownerDocument</code> ãŒå¤‰æ›´ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¨è¨€ã„æ›ãˆã‚‰ã‚Œã‚‹ã€‚</p><h2 id=class-ãƒ™ãƒ¼ã‚¹ã®è¦ç´ å®šç¾©>class ãƒ™ãƒ¼ã‚¹ã®è¦ç´ å®šç¾©</h2><p>v0 ã‹ã‚‰ <a href=/posts/2016/web-components-es2015-class/>ES2015 ã® <code>class</code> ã§å®šç¾©å¯èƒ½ã ã£ãŸ</a>ãŒã€ å…ˆã®ã‚ˆã†ã« <code>constructor</code> ãŒãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«å«ã‚€ã“ã¨ã‚‚ã‚ã‚Šã€æ”¹ã‚ã¦æ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>customElements</span>.<span style=color:#a6e22e>define</span>(<span style=color:#e6db74>&#39;header-tab&#39;</span>, <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HeaderTab</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>HTMLElement</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>static</span> <span style=color:#a6e22e>get</span> <span style=color:#a6e22e>observedAttributes</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> [<span style=color:#e6db74>&#39;selected&#39;</span>];
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>get</span> <span style=color:#a6e22e>selected</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>hasAttribute</span>(<span style=color:#e6db74>&#39;selected&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>set</span> <span style=color:#a6e22e>selected</span>(<span style=color:#a6e22e>value</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>value</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>setAttribute</span>(<span style=color:#e6db74>&#39;selected&#39;</span>, <span style=color:#a6e22e>value</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>removeAttribute</span>(<span style=color:#e6db74>&#39;selected&#39;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// HTMLElement ã® constructor ã‚’å‘¼ã³å‡ºã™
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>super</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectedCallback</span>() { ... }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>disconnectedCallback</span>() { ... }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>attributeChangedCallback</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>oldValue</span>, <span style=color:#a6e22e>newValue</span>) { ... }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>adoptedCallback</span>() { ... }
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><p>ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®ä»–ã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã®ãŒã‚¯ãƒ©ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦å®šç¾©ã—ã¦ã„ã‚‹ <code>observedAttributes</code> ã ãŒã€ã“ã“ã§æŒ‡å®šã•ã‚ŒãŸå±æ€§ã®ã¿ãŒå€¤å¤‰æ›´ã®ç›£è¦–å¯¾è±¡ã¨ãªã‚‹ã€‚ãã®ãŸã‚ã€ã“ã“ã§æŒ‡å®šã—ã¦ã„ãªã„å±æ€§ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚ <code>attributeChangedCallback()</code> ã«ã¯é€šçŸ¥ã•ã‚Œãªã„ã€‚</p><h2 id=lazyload-image-ã«è¦‹ã‚‹ãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰>lazyload-image ã«è¦‹ã‚‹ãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰</h2><p>ç”»åƒã‚’ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«åŒæœŸã§ãƒ­ãƒ¼ãƒ‰ã•ã›ã‚‹ <a href=https://github.com/1000ch/lazyload-image>1000ch/lazyload-image</a> ã‚’ Custom Elements v1 ã§å†å®Ÿè£…ã—ãŸã®ãŒ <a href="https://github.com/1000ch/lazyload-image/pull/9/files?diff=split">efine with customElements.define() #9</a> ã ãŒã€æƒ³å®šé€šã‚Šå‹•ã‹ãªã„ï¼ˆ <code>HTMLImageElement</code> ã‚’ <code>Image</code> ã«å¤‰ãˆã¦ã‚‚ãƒ€ãƒ¡ã ã£ãŸï¼‰ã€‚</p><h2 id=å‚è€ƒ>å‚è€ƒ</h2><ul><li><a href=https://html.spec.whatwg.org/multipage/scripting.html#custom-elements>4.13 Custom elements - HTML Standard</a></li><li><a href=https://developers.google.com/web/fundamentals/primers/customelements/>Custom elements v1: reusable web components | Web Fundamentals - Google Developers</a></li></ul><aside class=nav><button type=button class=link id=share-button>ğŸ”— ã“ã®è¨˜äº‹ã‚’ã‚·ã‚§ã‚¢ã™ã‚‹</button>
<a href=https://github.com/1000ch/1000ch.net/edit/main/content/posts/2016/custom-elements-v1.md>ğŸ”— ã“ã®è¨˜äº‹ã‚’ GitHub ã§ç·¨é›†ã™ã‚‹</a><div><a href=/posts/2016/soft-skills/>ğŸ‘ˆ SOFT SKILLSã€€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºè€…ã®äººç”Ÿãƒãƒ‹ãƒ¥ã‚¢ãƒ«</a></div><div><a href=/posts/2016/github-japan/>ğŸ‘‰ GitHub Japanã‚’è¨ªå•ã—ã¦ããŸ</a></div></aside><div popover=auto id=popover>ã‚¿ã‚¤ãƒˆãƒ«ã¨ URL ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ</div></main><aside class=aside></aside><footer class=footer><h2>Preference</h2><div class=preference><label><input type=checkbox switch id=auto-phrase> æ—¥æœ¬èªã®ãƒ•ãƒ¬ãƒ¼ã‚ºæ”¹è¡Œ
</label><label><input type=checkbox switch id=dark-mode> ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰
</label><label><input type=checkbox switch id=rainbow-link> è™¹è‰²ãƒªãƒ³ã‚¯</label></div><h2>Notice</h2><ul class=notice><li>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ­£ç¢ºæ€§ã‚„ä¿¡é ¼æ€§ã«ã¯é…æ…®ã—ã¦ã„ã¾ã™ãŒã€å¿…ãšã—ã‚‚ãã‚Œã‚‰ã‚’ä¿è¨¼ã¯ã—ã¾ã›ã‚“ã€‚æ„è¦‹ã‚„è¦‹è§£ã¯ã€å€‹äººã®ç«‹å ´ã«ãŠã„ã¦è¿°ã¹ãŸã‚‚ã®ã§ã‚ã‚Šã€æ‰€å±çµ„ç¹”ç­‰ã‚’ä»£è¡¨ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ©ç”¨ãŠã‚ˆã³ãã®çµæœã«å¯¾ã—ã€ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã‹ã­ã¾ã™</li><li>å½“ã‚µã‚¤ãƒˆã¯ amazon.co.jp ã‚’å®£ä¼ã—ãƒªãƒ³ã‚¯ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€ã‚µã‚¤ãƒˆãŒç´¹ä»‹æ–™ã‚’ç²å¾—ã§ãã‚‹æ‰‹æ®µã‚’æä¾›ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã«è¨­å®šã•ã‚ŒãŸã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆå®£ä¼ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã‚ã‚‹ã€Amazon ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ»ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å‚åŠ è€…ã§ã™</li></ul></footer></div><script defer src=https://platform.twitter.com/widgets.js></script><script defer src=https://platform.instagram.com/en_US/embeds.js></script><script defer src=https://strava-embeds.com/embed.js></script><script defer src=https://embed.bsky.app/static/embed.js></script><script type=module src=https://unpkg.com/baseline-status@1.0.11/baseline-status.min.js></script><script type=module>
import hljs from 'https://unpkg.com/@highlightjs/cdn-assets@11.11.1/es/highlight.min.js';

document.querySelectorAll('pre code').forEach(element => {
  hljs.highlightElement(element);
});
</script><script type=module>
import AffiliateLink from '/js/affiliate-link.js';

customElements.define('affiliate-link', AffiliateLink);

const autoPhrase = document.querySelector('#auto-phrase');
const darkMode =  document.querySelector('#dark-mode');
const rainbowLink =  document.querySelector('#rainbow-link');

autoPhrase.checked = localStorage.getItem('auto-phrase');
darkMode.checked = localStorage.getItem('dark-mode');
rainbowLink.checked = localStorage.getItem('rainbow-link');

autoPhrase?.addEventListener('change', event => {
  if (event.target.checked) {
    localStorage.setItem('auto-phrase', true);
  } else {
    localStorage.removeItem('auto-phrase');
  }
});

darkMode?.addEventListener('change', event => {
  if (event.target.checked) {
    localStorage.setItem('dark-mode', true);
  } else {
    localStorage.removeItem('dark-mode');
  }
});

rainbowLink.addEventListener('change', event => {
  if (event.target.checked) {
    localStorage.setItem('rainbow-link', true);
  } else {
    localStorage.removeItem('rainbow-link');
  }
});

const shareButton = document.querySelector('#share-button');
shareButton?.addEventListener('click', async event => {
  event.preventDefault();

  const data = {
    title: document.title,
    text: document.title,
    url: location.href
  };

  if (navigator.canShare?.(data)) {
    await navigator.share(data);
  } else {
    await navigator.clipboard?.writeText(`${data.title} ${data.url}`);
    const popover = document.querySelector('#Popover');
    popover.showPopover();

    setTimeout(() => {
      popover.hidePopover();
    }, 2000);
  }
});
</script></body></html>