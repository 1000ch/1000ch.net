<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>一歩進んだHTML/CSS/JSを目指すために - EagleLand</title>

<link rel="icon" href="/favicon.png">
<link rel="shortcut icon" href="/favicon.png">
<link rel="shortcut icon" href="/favicon.svg" type="image/svg+xml" sizes="any">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/github.min.css">
<link rel="stylesheet" href="/css/font.css">
<link rel="stylesheet" href="/css/settings.css">
<link rel="stylesheet" href="/css/tools.css">
<link rel="stylesheet" href="/css/generic.css">
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/css/objects.css">
<link rel="stylesheet" href="/css/components.css">
<link rel="stylesheet" href="/css/trumps.css">
<link rel="alternate" href="/rss.xml" title="1000ch.net" type="application/rss+xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono">

<meta name="author" content="Shogo Sensui">
<meta name="copyright" content="Copyright (c) Shogo Sensui; Licensed under Creative Commons Attribution-Noncommercial-Share Japan">


  
    <meta property="og:description" content="一歩進んだHTML/CSS/JSを目指すために 「なんとなく書きたくないけど、どう意識してコーディングしていけばいいのかわからない…。それを解消するためのツールがあるので、紹介する。
HTMLInspector  philipwalton/html-inspector Introducing HTML Inspector  こちらはHTMLを解析して悪いところを指摘してくれるツール。たぶんガイドラインとかそれぞれあると思いますが、基本的にはコレに沿ってもいいかと。スクリプトを差し込んで実行すると、指摘事項がconsoleに出力される。githubのリポジトリからダウンロードするか、bowerで落としてくるか。
$ bower install html-inspector  次に、解析したいページに以下のコードを埋め込む。
&lt;script src=&quot;path/to/html-inspector.js&quot;&gt;&lt;/script&gt; &lt;script&gt; HTMLInspector.inspect() &lt;/script&gt;  HTMLInspector.inspect()には引数を与えられる。設定を渡すことでどういう解析を実行するかを指定できる。
 Configuring HTML Inspector  デフォルトだと以下のようになっている。解析ルールの追加などは都度更新されていくと思うので、公式ドキュメントを参照して欲しい。
{ useRules: null, //(Array) 解析のルールの指定 domRoot: &quot;html&quot;, //(selector | element) 解析を開始するルート exclude: &quot;svg&quot;, //(selector | element | Array) 解析の対象としない要素を指定 excludeSubTree: [&quot;svg&quot;, &quot;iframe&quot;], //(selector | element | Array) 解析の対象としないサブツリー要素を指定 onComplete: function(errors) {//(Function) 解析完了時のコールバック errors.forEach(function(error) { console.warn(error.message, error.context) }) } }  HTMLInspectorをGruntで実行出来たらいいのかなとか、むしろなぜそうなってないのか一瞬考えたけど、JavaScript側でテンプレート持ってたら無理（PhantomJSはさむとか？）かとか、サーバーサイドで動的にHTMLを返していると面倒くさいな、むしろそれでこういうスクリプト埋め込んでもらう形式なんだろうな、と。">
  

  
    <meta property="og:image" content="https://1000ch.net/img/apple-touch-icon.png">
    <meta name="twitter:card" content="summary">
  


<meta property="og:type" content="article">
<meta property="og:url" content="https://1000ch.net/posts/2013/brush-up-your-coding.html">
<meta property="og:site_name" content="EagleLand">
<meta property="og:title" content="一歩進んだHTML/CSS/JSを目指すために">

<meta name="twitter:site" content="@1000ch">
<meta name="twitter:url" content="https://1000ch.net/posts/2013/brush-up-your-coding.html">
<meta name="twitter:title" content="一歩進んだHTML/CSS/JSを目指すために">

<meta name="google-site-verification" content="BWewniqiBzRmrhpj51eLwug-F4hamFfyznl-ARb-Y4Y">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/apple-touch-icon.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/apple-touch-icon.png">
<link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon.png">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-49530352-1', '1000ch.net');
  ga('send', 'pageview');
</script>

  </head>
  <body>
    <div class="Container">
      <header class="Header">
  <h1 class="Header__Title">
    <a href="/">EagleLand</a>
  </h1>
  <nav class="Header__Menu">
    <div class="Header__MenuItem">
      <img src="/img/rss.svg" alt="">
      <a href="/rss.xml">RSS</a>
    </div>
    <div class="Header__MenuItem">
      <img src="/img/heart.svg" alt="">
      <a href="https://shogosensui.com">Activity</a>
    </div>
    <div class="Header__MenuItem">
      <img src="/img/facebook.svg" alt="">
      <a href="https://www.facebook.com/1000ch.net">Facebook</a>
    </div>
  </nav>
</header>

      <main class="Main">
        <span class="Label Label--gray pull-left">2013.08.01</span>

        

<h1 id="一歩進んだhtml-css-jsを目指すために">一歩進んだHTML/CSS/JSを目指すために</h1>

<p>「なんとなく書きたくないけど、どう意識してコーディングしていけばいいのかわからない…。それを解消するためのツールがあるので、紹介する。</p>

<h2 id="htmlinspector">HTMLInspector</h2>

<ul>
<li><a href="https://github.com/philipwalton/html-inspector">philipwalton/html-inspector</a></li>
<li><a href="http://philipwalton.com/articles/introducing-html-inspector/">Introducing HTML Inspector</a></li>
</ul>

<p>こちらはHTMLを解析して悪いところを指摘してくれるツール。たぶんガイドラインとかそれぞれあると思いますが、基本的にはコレに沿ってもいいかと。スクリプトを差し込んで実行すると、指摘事項がconsoleに出力される。<a href="https://github.com/philipwalton/html-inspector">githubのリポジトリ</a>からダウンロードするか、bowerで落としてくるか。</p>

<pre><code class="language-bash">$ bower install html-inspector
</code></pre>

<p>次に、解析したいページに以下のコードを埋め込む。</p>

<pre><code class="language-html">&lt;script src=&quot;path/to/html-inspector.js&quot;&gt;&lt;/script&gt;
&lt;script&gt; HTMLInspector.inspect() &lt;/script&gt;
</code></pre>

<p><code>HTMLInspector.inspect()</code>には引数を与えられる。設定を渡すことでどういう解析を実行するかを指定できる。</p>

<ul>
<li><a href="https://github.com/philipwalton/html-inspector#configuring-html-inspector">Configuring HTML Inspector</a></li>
</ul>

<p>デフォルトだと以下のようになっている。解析ルールの追加などは都度更新されていくと思うので、公式ドキュメントを参照して欲しい。</p>

<pre><code class="language-js">{
  useRules: null, //(Array) 解析のルールの指定
  domRoot: &quot;html&quot;, //(selector | element) 解析を開始するルート
  exclude: &quot;svg&quot;, //(selector | element | Array) 解析の対象としない要素を指定
  excludeSubTree: [&quot;svg&quot;, &quot;iframe&quot;], //(selector | element | Array) 解析の対象としないサブツリー要素を指定
  onComplete: function(errors) {//(Function) 解析完了時のコールバック
    errors.forEach(function(error) {
      console.warn(error.message, error.context)
    })
  }
}
</code></pre>

<p>HTMLInspectorをGruntで実行出来たらいいのかなとか、むしろなぜそうなってないのか一瞬考えたけど、JavaScript側でテンプレート持ってたら無理（PhantomJSはさむとか？）かとか、サーバーサイドで動的にHTMLを返していると面倒くさいな、むしろそれでこういうスクリプト埋め込んでもらう形式なんだろうな、と。</p>

<p>それでも開発時にしか必要のない2行なので、ChromeのExtensionにしてみた。</p>

<ul>
<li><a href="https://chrome.google.com/webstore/detail/hinspector/poeiekompeckjdiigdamalgoahpldgbp">H:inspector</a></li>
</ul>

<p>これで一応、解析したいページを好きなタイミングで解析できるようになったと思う。<code>inspect()</code>メソッドに渡す引数はDevToolsのパネルで編集・指定できるようにした。ChromeExtensionなら導入はそれなりに楽かと。</p>

<h2 id="csslint">CSSLint</h2>

<p>こちらはNicole SullivanとNicholas C. Zakasが作った、CSSのlintツール。</p>

<ul>
<li><a href="http://www.stubbornella.org/content/2011/06/15/css-lint-open-sourced/">CSS Lint open sourced</a></li>
<li><a href="http://csslint.net/">CSS LINT</a></li>
<li><a href="https://github.com/stubbornella/csslint">stubbornella/csslint</a></li>
<li><a href="https://github.com/stubbornella/csslint/wiki">stubbornella/csslint - wiki</a></li>
</ul>

<p>Node.jsで実行する。</p>

<pre><code class="language-bash">$ npm install -g csslint

$ csslint target.css
</code></pre>

<p>都度ターミナルから実行するのもアレなので、Gruntなどで自動化するのが一般的かと思う。</p>

<ul>
<li><a href="https://github.com/gruntjs/grunt-contrib-csslint">gruntjs/grunt-contrib-csslint</a></li>
</ul>

<p>インストールはこちら。</p>

<pre><code class="language-bash">$ npm install grunt-contrib-csslint --save-dev
</code></pre>

<p>Gruntの使い方は<a href="/posts/2013/gruntjs-0-4.html">ここ</a>とか<a href="/posts/2012/gruntjs-introduction.html">ここ</a>を見ていただけると。こちらもlintの方針を指定することができるけど、デフォルトで注意される内容を直すだけでもだいぶキレイになる。</p>

<h2 id="jshint">JSHint</h2>

<p>最後にJavaScriptのチェックツール。こちらも前述のCSSLintと同様のことが言えるので、Gruntと一緒に紹介してしまう。</p>

<ul>
<li><a href="http://www.jshint.com/">JS Hint</a></li>
<li><a href="http://www.jshint.com/docs/">Documentation</a></li>
<li><a href="https://github.com/jshint/jshint">jshint/jshint</a></li>
<li><a href="https://github.com/gruntjs/grunt-contrib-jshint">gruntjs/grunt-contrib-jshint</a></li>
</ul>

<p>JSHintのインストール。</p>

<pre><code class="language-bash">$ npm install -g jshint
</code></pre>

<p>「非推奨プロパティを使うな！」とか比較演算子の使い方のあたりを指摘してくれる。何をチェックするしないの指定はコマンドライン引数でもできるが、<code>.jshintrc</code>という設定ファイルで一括指定可能。さらにこの<code>.jshintrc</code>をGruntと連携させるなりするのがいいかと。Gruntが公式で配布しているモジュールのインストールはこちら。</p>

<pre><code class="language-bash">$ npm install grunt-contrib-jshint --save-dev
</code></pre>

<p>ルールセットは<code>.jshintrc</code>で行う他、<code>gruntfile.js</code>のタスクのオプションにも指定することが出来る。</p>

<pre><code class="language-js">grunt.initConfig({
  jshint: {
    options: {
    curly: true,
    eqeqeq: true,
    eqnull: true,
    browser: true,
    globals: {
      jQuery: true
    }
  }
});
</code></pre>

<p><code>gruntfile.js</code>への指定はこのあたりを参考に。</p>

<ul>
<li><a href="https://github.com/gruntjs/grunt-contrib-jshint#jshintrc">gruntjs/grunt-contrib-jshint - jshintrc</a></li>
</ul>

<h2 id="意義とか">意義とか</h2>

<p>テストなどにも同じ事が言えるが、こういったこと継続的にやることが重要かと思っている。その点、メンテナビリティとポータビリティなどを考えて<code>package.json</code>だけで済むGruntが最有力候補になるかと。</p>

<ul>
<li><a href="http://t32k.me/mol/log/the-perfect-css-i-thought/">ぼくのかんがえたさいきょうのしーえしゅえしゅ - MOL</a></li>
<li><a href="https://github.com/t32k/maple">t32k/maple</a></li>
</ul>

<p>こちら<a href="http://twitter.com/t32k">@t32k</a>氏が作成したフレームワークだけど、Grunt周りやcssの方針など参考になる（@t32k氏にはH:inspectorのアイコンを頂いた）。JSHint、CSSLintに加えて、<a href="https://github.com/JamieMason/grunt-imageoptim">grunt-imageoptim</a>や<a href="https://github.com/t32k/grunt-kss">grunt-kss</a>なども一緒に導入可能になっており、画像の最適化やスタイルガイドの作成も自動化できるようになっている。</p>

<p>業務でプロジェクトを幾つか経験したけど、最初の設計と継続的リファクタリングが如何に大事であるかを痛感していて、特に運用が大変なプロジェクトだと、どうしてもフロントエンドのコードが犠牲になりがち。それでも、 <strong>ディベロッパーは理性を保ってコードを清潔に保つ努力をしていかなければならない</strong> と、思う。</p>

<p>リファクタリングしてコードを修正するのは、スクラッチで開発していくこととは比較にならないくらい難しい。ましてや稼働中のサービスに一気に手を入れるのは非常に勇気のいる作業。ひとつひとつの蓄積（ある種我慢の蓄積かもしれないけど）が、</p>

<ul>
<li>Webのパフォーマンスにつながり</li>
<li>運用スピードの向上</li>
<li>ディベロッパーのスキルアップ</li>
</ul>

<p>につながると、思ってる。</p>

        <aside class="Share">
  <div class="Share__Item">
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2f1000ch.net%2fposts%2f2013%2fbrush-up-your-coding.html" title="Share on Facebook" target="_blank">
      <img src="/img/facebook.svg">
    </a>
  </div>
  <div class="Share__Item">
    <a href="https://twitter.com/share?url=https%3a%2f%2f1000ch.net%2fposts%2f2013%2fbrush-up-your-coding.html&text=%e4%b8%80%e6%ad%a9%e9%80%b2%e3%82%93%e3%81%a0HTML%2fCSS%2fJS%e3%82%92%e7%9b%ae%e6%8c%87%e3%81%99%e3%81%9f%e3%82%81%e3%81%ab" title="Share on Twitter" target="_blank">
      <img src="/img/twitter.svg">
    </a>
  </div>
</aside>

<nav class="Pager">
  
    <div class="Pager__Item Pager__Item--left">
      <a href="/posts/2013/gist-slide.html">👈 Gistを簡易スライドにするGistSlideを作った</a>
    </div>
  

  
    <div class="Pager__Item Pager__Item--right">
      <a href="/posts/2013/github-travis-ci.html">Travis CIを使ったGitHubプロジェクトの継続的インテグレーション 👉</a>
    </div>
  
</nav>

      </main>
      <aside class="Aside">
  <h1>Author</h1>
  <div class="Media">
    <picture>
      <source srcset="/img/1000ch.webp" type="image/webp">
      <img class="Media__Figure" src="/img/1000ch.jpg" alt="">
    </picture>
    <div class="Media__Body">
      <h3 class="Media__Title">1000ch <a href="https://twitter.com/1000ch" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @1000ch</a></h3>
      <p>
        ソフトウェアエンジニア。SIer でのプログラマーを経て Web 業界に転職して以来、Web 技術に没頭する日々を送っている。Web 標準の動向やアーキテクチャの流行を追いかけつつ、技術啓蒙や OSS 活動に励んでいる。
      </p>
    </div>
  </div>
</aside>

      <footer class="Footer">
  <div class="Banner">
    <div class="Banner__Item">
      <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.ja" target="_blank">
        <img src="/img/by-nc-nd.png" alt="CC BY-NC-ND 4.0" width="80" height="28">
      </a>
    </div>
    <div class="Banner__Item">
      <a href="https://cloud.feedly.com/#subscription%2Ffeed%2Fhttp%3A%2F%2Fhttps%3A%2F%2F1000ch.net%2Findex.xml" target="_blank">
        <img src="https://s3.feedly.com/img/follows/feedly-follow-rectangle-flat-medium_2x.png" alt="follow me on feedly" width="71" height="28">
      </a>
    </div>
    <div class="Banner__Item">
      <form action="https://duckduckgo.com/" role="search">
        <input name="sites" type="hidden" value="1000ch.net">
        <input name="q" type="search">
        <input type="submit" value="Search">
      </form>
    </div>
  </div>
</footer>

    </div>
    <script defer src="https://platform.twitter.com/widgets.js"></script>
<script defer src="https://platform.instagram.com/en_US/embeds.js"></script>
<script defer src="https://assets.codepen.io/assets/embed/ei.js"></script>
<script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>
<script type="module">
import AffiliateLink from '/js/affiliate-link.js';
import FluidIframe from 'https://cdn.jsdelivr.net/npm/fluid-iframe/dist/index.js';

customElements.define('affiliate-link', AffiliateLink);
customElements.define('fluid-iframe', FluidIframe);

document.querySelectorAll('pre code').forEach(block => {
  hljs.highlightBlock(block);
});

if (navigator.serviceWorker) {
  navigator.serviceWorker.register('/sw.js');
}
</script>

  </body>
</html>
